define(["exports","./when-54c2dc71","./Check-6c0211bc","./Cartesian2-36f5627e","./Transforms-441ed215","./ComponentDatatype-a26dd044","./GeometryAttribute-c636bf20","./GeometryAttributes-4fcfcf40","./GeometryOffsetAttribute-d746452d","./VertexFormat-4d8b817a"],function(e,b,m,A,l,C,h,v,z,u){"use strict";var w=new A.Cartesian3;function s(e){var t=(e=b.defaultValue(e,b.defaultValue.EMPTY_OBJECT)).minimum,a=e.maximum;if(m.Check.typeOf.object("min",t),m.Check.typeOf.object("max",a),b.defined(e.offsetAttribute)&&e.offsetAttribute===z.GeometryOffsetAttribute.TOP)throw new m.DeveloperError("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");var n=b.defaultValue(e.vertexFormat,u.VertexFormat.DEFAULT);this._minimum=A.Cartesian3.clone(t),this._maximum=A.Cartesian3.clone(a),this._vertexFormat=n,this._offsetAttribute=e.offsetAttribute,this._workerName="createBoxGeometry"}s.fromDimensions=function(e){var t=(e=b.defaultValue(e,b.defaultValue.EMPTY_OBJECT)).dimensions;m.Check.typeOf.object("dimensions",t),m.Check.typeOf.number.greaterThanOrEquals("dimensions.x",t.x,0),m.Check.typeOf.number.greaterThanOrEquals("dimensions.y",t.y,0),m.Check.typeOf.number.greaterThanOrEquals("dimensions.z",t.z,0);var a=A.Cartesian3.multiplyByScalar(t,.5,new A.Cartesian3);return new s({minimum:A.Cartesian3.negate(a,new A.Cartesian3),maximum:a,vertexFormat:e.vertexFormat,offsetAttribute:e.offsetAttribute})},s.fromAxisAlignedBoundingBox=function(e){return m.Check.typeOf.object("boundingBox",e),new s({minimum:e.minimum,maximum:e.maximum})},s.packedLength=2*A.Cartesian3.packedLength+u.VertexFormat.packedLength+1,s.pack=function(e,t,a){return m.Check.typeOf.object("value",e),m.Check.defined("array",t),a=b.defaultValue(a,0),A.Cartesian3.pack(e._minimum,t,a),A.Cartesian3.pack(e._maximum,t,a+A.Cartesian3.packedLength),u.VertexFormat.pack(e._vertexFormat,t,a+2*A.Cartesian3.packedLength),t[a+2*A.Cartesian3.packedLength+u.VertexFormat.packedLength]=b.defaultValue(e._offsetAttribute,-1),t};var t,y=new A.Cartesian3,f=new A.Cartesian3,p=new u.VertexFormat,c={minimum:y,maximum:f,vertexFormat:p,offsetAttribute:void 0};s.unpack=function(e,t,a){m.Check.defined("array",e),t=b.defaultValue(t,0);var n=A.Cartesian3.unpack(e,t,y),r=A.Cartesian3.unpack(e,t+A.Cartesian3.packedLength,f),i=u.VertexFormat.unpack(e,t+2*A.Cartesian3.packedLength,p),o=e[t+2*A.Cartesian3.packedLength+u.VertexFormat.packedLength];return b.defined(a)?(a._minimum=A.Cartesian3.clone(n,a._minimum),a._maximum=A.Cartesian3.clone(r,a._maximum),a._vertexFormat=u.VertexFormat.clone(i,a._vertexFormat),a._offsetAttribute=-1===o?void 0:o,a):(c.offsetAttribute=-1===o?void 0:o,new s(c))},s.createGeometry=function(e){var t=e._minimum,a=e._maximum,n=e._vertexFormat;if(!A.Cartesian3.equals(t,a)){var r,i,o,m,u,s,y=new v.GeometryAttributes;n.position&&(n.st||n.normal||n.tangent||n.bitangent)?(n.position&&((i=new Float64Array(72))[0]=t.x,i[1]=t.y,i[2]=a.z,i[3]=a.x,i[4]=t.y,i[5]=a.z,i[6]=a.x,i[7]=a.y,i[8]=a.z,i[9]=t.x,i[10]=a.y,i[11]=a.z,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=a.x,i[16]=t.y,i[17]=t.z,i[18]=a.x,i[19]=a.y,i[20]=t.z,i[21]=t.x,i[22]=a.y,i[23]=t.z,i[24]=a.x,i[25]=t.y,i[26]=t.z,i[27]=a.x,i[28]=a.y,i[29]=t.z,i[30]=a.x,i[31]=a.y,i[32]=a.z,i[33]=a.x,i[34]=t.y,i[35]=a.z,i[36]=t.x,i[37]=t.y,i[38]=t.z,i[39]=t.x,i[40]=a.y,i[41]=t.z,i[42]=t.x,i[43]=a.y,i[44]=a.z,i[45]=t.x,i[46]=t.y,i[47]=a.z,i[48]=t.x,i[49]=a.y,i[50]=t.z,i[51]=a.x,i[52]=a.y,i[53]=t.z,i[54]=a.x,i[55]=a.y,i[56]=a.z,i[57]=t.x,i[58]=a.y,i[59]=a.z,i[60]=t.x,i[61]=t.y,i[62]=t.z,i[63]=a.x,i[64]=t.y,i[65]=t.z,i[66]=a.x,i[67]=t.y,i[68]=a.z,i[69]=t.x,i[70]=t.y,i[71]=a.z,y.position=new h.GeometryAttribute({componentDatatype:C.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:i})),n.normal&&((o=new Float32Array(72))[0]=0,o[1]=0,o[2]=1,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=1,o[9]=0,o[10]=0,o[11]=1,o[12]=0,o[13]=0,o[14]=-1,o[15]=0,o[16]=0,o[17]=-1,o[18]=0,o[19]=0,o[20]=-1,o[21]=0,o[22]=0,o[23]=-1,o[24]=1,o[25]=0,o[26]=0,o[27]=1,o[28]=0,o[29]=0,o[30]=1,o[31]=0,o[32]=0,o[33]=1,o[34]=0,o[35]=0,o[36]=-1,o[37]=0,o[38]=0,o[39]=-1,o[40]=0,o[41]=0,o[42]=-1,o[43]=0,o[44]=0,o[45]=-1,o[46]=0,o[47]=0,o[48]=0,o[49]=1,o[50]=0,o[51]=0,o[52]=1,o[53]=0,o[54]=0,o[55]=1,o[56]=0,o[57]=0,o[58]=1,o[59]=0,o[60]=0,o[61]=-1,o[62]=0,o[63]=0,o[64]=-1,o[65]=0,o[66]=0,o[67]=-1,o[68]=0,o[69]=0,o[70]=-1,o[71]=0,y.normal=new h.GeometryAttribute({componentDatatype:C.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:o})),n.st&&((m=new Float32Array(48))[0]=0,m[1]=0,m[2]=1,m[3]=0,m[4]=1,m[5]=1,m[6]=0,m[7]=1,m[8]=1,m[9]=0,m[10]=0,m[11]=0,m[12]=0,m[13]=1,m[14]=1,m[15]=1,m[16]=0,m[17]=0,m[18]=1,m[19]=0,m[20]=1,m[21]=1,m[22]=0,m[23]=1,m[24]=1,m[25]=0,m[26]=0,m[27]=0,m[28]=0,m[29]=1,m[30]=1,m[31]=1,m[32]=1,m[33]=0,m[34]=0,m[35]=0,m[36]=0,m[37]=1,m[38]=1,m[39]=1,m[40]=0,m[41]=0,m[42]=1,m[43]=0,m[44]=1,m[45]=1,m[46]=0,m[47]=1,y.st=new h.GeometryAttribute({componentDatatype:C.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:m})),n.tangent&&((u=new Float32Array(72))[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,u[6]=1,u[7]=0,u[8]=0,u[9]=1,u[10]=0,u[11]=0,u[12]=-1,u[13]=0,u[14]=0,u[15]=-1,u[16]=0,u[17]=0,u[18]=-1,u[19]=0,u[20]=0,u[21]=-1,u[22]=0,u[23]=0,u[24]=0,u[25]=1,u[26]=0,u[27]=0,u[28]=1,u[29]=0,u[30]=0,u[31]=1,u[32]=0,u[33]=0,u[34]=1,u[35]=0,u[36]=0,u[37]=-1,u[38]=0,u[39]=0,u[40]=-1,u[41]=0,u[42]=0,u[43]=-1,u[44]=0,u[45]=0,u[46]=-1,u[47]=0,u[48]=-1,u[49]=0,u[50]=0,u[51]=-1,u[52]=0,u[53]=0,u[54]=-1,u[55]=0,u[56]=0,u[57]=-1,u[58]=0,u[59]=0,u[60]=1,u[61]=0,u[62]=0,u[63]=1,u[64]=0,u[65]=0,u[66]=1,u[67]=0,u[68]=0,u[69]=1,u[70]=0,u[71]=0,y.tangent=new h.GeometryAttribute({componentDatatype:C.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:u})),n.bitangent&&((s=new Float32Array(72))[0]=0,s[1]=1,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=1,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=1,s[14]=0,s[15]=0,s[16]=1,s[17]=0,s[18]=0,s[19]=1,s[20]=0,s[21]=0,s[22]=1,s[23]=0,s[24]=0,s[25]=0,s[26]=1,s[27]=0,s[28]=0,s[29]=1,s[30]=0,s[31]=0,s[32]=1,s[33]=0,s[34]=0,s[35]=1,s[36]=0,s[37]=0,s[38]=1,s[39]=0,s[40]=0,s[41]=1,s[42]=0,s[43]=0,s[44]=1,s[45]=0,s[46]=0,s[47]=1,s[48]=0,s[49]=0,s[50]=1,s[51]=0,s[52]=0,s[53]=1,s[54]=0,s[55]=0,s[56]=1,s[57]=0,s[58]=0,s[59]=1,s[60]=0,s[61]=0,s[62]=1,s[63]=0,s[64]=0,s[65]=1,s[66]=0,s[67]=0,s[68]=1,s[69]=0,s[70]=0,s[71]=1,y.bitangent=new h.GeometryAttribute({componentDatatype:C.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:s})),(r=new Uint16Array(36))[0]=0,r[1]=1,r[2]=2,r[3]=0,r[4]=2,r[5]=3,r[6]=6,r[7]=5,r[8]=4,r[9]=7,r[10]=6,r[11]=4,r[12]=8,r[13]=9,r[14]=10,r[15]=8,r[16]=10,r[17]=11,r[18]=14,r[19]=13,r[20]=12,r[21]=15,r[22]=14,r[23]=12,r[24]=18,r[25]=17,r[26]=16,r[27]=19,r[28]=18,r[29]=16,r[30]=20,r[31]=21,r[32]=22,r[33]=20,r[34]=22,r[35]=23):((i=new Float64Array(24))[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=a.x,i[4]=t.y,i[5]=t.z,i[6]=a.x,i[7]=a.y,i[8]=t.z,i[9]=t.x,i[10]=a.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=a.z,i[15]=a.x,i[16]=t.y,i[17]=a.z,i[18]=a.x,i[19]=a.y,i[20]=a.z,i[21]=t.x,i[22]=a.y,i[23]=a.z,y.position=new h.GeometryAttribute({componentDatatype:C.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:i}),(r=new Uint16Array(36))[0]=4,r[1]=5,r[2]=6,r[3]=4,r[4]=6,r[5]=7,r[6]=1,r[7]=0,r[8]=3,r[9]=1,r[10]=3,r[11]=2,r[12]=1,r[13]=6,r[14]=5,r[15]=1,r[16]=2,r[17]=6,r[18]=2,r[19]=3,r[20]=7,r[21]=2,r[22]=7,r[23]=6,r[24]=3,r[25]=0,r[26]=4,r[27]=3,r[28]=4,r[29]=7,r[30]=0,r[31]=1,r[32]=5,r[33]=0,r[34]=5,r[35]=4);var f,p,c,x=A.Cartesian3.subtract(a,t,w),d=.5*A.Cartesian3.magnitude(x);return b.defined(e._offsetAttribute)&&(f=i.length,p=new Uint8Array(f/3),c=e._offsetAttribute===z.GeometryOffsetAttribute.NONE?0:1,z.arrayFill(p,c),y.applyOffset=new h.GeometryAttribute({componentDatatype:C.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:p})),new h.Geometry({attributes:y,indices:r,primitiveType:h.PrimitiveType.TRIANGLES,boundingSphere:new l.BoundingSphere(A.Cartesian3.ZERO,d),offsetAttribute:e._offsetAttribute})}},s.getUnitBox=function(){return b.defined(t)||(t=s.createGeometry(s.fromDimensions({dimensions:new A.Cartesian3(1,1,1),vertexFormat:u.VertexFormat.POSITION_ONLY}))),t},e.BoxGeometry=s});
//# sourceMappingURL=BoxGeometry-2c3ecac1.js.map
