define(["exports","./when-54c2dc71","./Check-6c0211bc","./Math-1124a290","./Cartesian2-36f5627e","./Transforms-441ed215","./GeometryAttribute-c636bf20"],function(t,O,x,P,W,n,_){"use strict";var R=Math.cos,p=Math.sin,f=Math.sqrt,a={computePosition:function(t,n,a,r,e,o,s){var i,h=n.radiiSquared,g=t.nwCorner,u=t.boundingRectangle,c=g.latitude-t.granYCos*r+e*t.granXSin,C=R(c),l=p(c),d=h.z*l,M=g.longitude+r*t.granYSin+e*t.granXCos,S=C*R(M),w=C*p(M),m=h.x*S,X=h.y*w,Y=f(m*S+X*w+d*l);o.x=m/Y,o.y=X/Y,o.z=d/Y,a&&(i=t.stNwCorner,O.defined(i)?(c=i.latitude-t.stGranYCos*r+e*t.stGranXSin,M=i.longitude+r*t.stGranYSin+e*t.stGranXCos,s.x=(M-t.stWest)*t.lonScalar,s.y=(c-t.stSouth)*t.latScalar):(s.x=(M-u.west)*t.lonScalar,s.y=(c-u.south)*t.latScalar))}},v=new _.Matrix2,G=new W.Cartesian3,y=new W.Cartographic,I=new W.Cartesian3,T=new n.GeographicProjection;function b(t,n,a,r,e,o,s){var i=Math.cos(n),h=r*i,g=a*i,u=Math.sin(n),c=r*u,C=a*u;G=T.project(t,G),G=W.Cartesian3.subtract(G,I,G);var l=_.Matrix2.fromRotation(n,v);G=_.Matrix2.multiplyByVector(l,G,G),G=W.Cartesian3.add(G,I,G),--o,--s;var d=(t=T.unproject(G,t)).latitude,M=d+o*C,S=d-h*s,w=d-h*s+o*C,m=Math.max(d,M,S,w),X=Math.min(d,M,S,w),Y=t.longitude,O=Y+o*g,R=Y+s*c,p=Y+s*c+o*g;return{north:m,south:X,east:Math.max(Y,O,R,p),west:Math.min(Y,O,R,p),granYCos:h,granYSin:c,granXCos:g,granXSin:C,nwCorner:t}}a.computeOptions=function(t,n,a,r,e,o,s){var i=t.east,h=t.west,g=t.north,u=t.south,c=!1,C=!1;g===P.CesiumMath.PI_OVER_TWO&&(c=!0),u===-P.CesiumMath.PI_OVER_TWO&&(C=!0);var l,d,M,S=g-u,w=(l=i<h?P.CesiumMath.TWO_PI-h+i:i-h)/((d=Math.ceil(l/n)+1)-1),m=S/((M=Math.ceil(S/n)+1)-1),X=W.Rectangle.northwest(t,o),Y=W.Rectangle.center(t,y);0===a&&0===r||(Y.longitude<X.longitude&&(Y.longitude+=P.CesiumMath.TWO_PI),I=T.project(Y,I));var O,R,p=m,_=w,f=W.Rectangle.clone(t,e),v={granYCos:p,granYSin:0,granXCos:_,granXSin:0,nwCorner:X,boundingRectangle:f,width:d,height:M,northCap:c,southCap:C};if(0!==a){var G=b(X,a,w,m,0,d,M),g=G.north,u=G.south,i=G.east,h=G.west;if(g<-P.CesiumMath.PI_OVER_TWO||g>P.CesiumMath.PI_OVER_TWO||u<-P.CesiumMath.PI_OVER_TWO||u>P.CesiumMath.PI_OVER_TWO)throw new x.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");v.granYCos=G.granYCos,v.granYSin=G.granYSin,v.granXCos=G.granXCos,v.granXSin=G.granXSin,f.north=g,f.south=u,f.east=i,f.west=h}return 0!==r&&(a-=r,R=b(O=W.Rectangle.northwest(f,s),a,w,m,0,d,M),v.stGranYCos=R.granYCos,v.stGranXCos=R.granXCos,v.stGranYSin=R.granYSin,v.stGranXSin=R.granXSin,v.stNwCorner=O,v.stWest=R.west,v.stSouth=R.south),v},t.RectangleGeometryLibrary=a});
//# sourceMappingURL=RectangleGeometryLibrary-6e94f1ef.js.map
